import { useRef, useState } from 'react';
import { Canvas, Meta, Story } from '@storybook/addon-docs';

import IconButton from '../../components/icon-button';

import Shape from '../../foundations/shape';
import Flex from '../layout';
import Text from '../../components/text';
import Spacing from '../spacing';
import MenuItem from '../../components/menu-item';
import BottomSheets from './BottomSheets';

<Meta title={'Utilities/BottomSheets'} />

export const items = [
    {
        title: 'Channels',
        button: '',
        children: <MenuItem label={'label'} />,
        active: true,
    },
    {
        title: 'Submenu',
        button: 'account-multiple-outline',
        children: undefined,
        active: false,
    },
];

<Canvas hidden>
    <Story name="default">
        {() => {
            const [open, setOpen] = useState(false);
            const buttonReference = useRef(null);
            function handleClick() {
                console.log('#### handle click');
                setOpen(!open);
            }
            return (
                <>
                    <IconButton
                        icon={'menu'}
                        onClick={handleClick}
                        ref={buttonReference}
                        toggled={open}
                    />
                    <BottomSheets
                        items={items}
                        open={open}
                        triggerReference={buttonReference}
                        onClickAway={() => setOpen(false)}
                    />
                </>
            );
        }}
    </Story>
</Canvas>
